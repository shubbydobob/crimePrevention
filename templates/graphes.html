<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¡°ê±´ë³„ ë²”ì£„ ì˜ˆì¸¡ ëª¨ë‹ˆí„°ë§</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
      width: 1800px;
      margin: auto;
    }

    header {
      background-color: #26969c;
      color: white;
      text-align: center;
      width: 100%; /* ì „ì²´ í™”ë©´ ë„ˆë¹„ë¡œ ì„¤ì • */
    
    }

    .content {
      padding: 20px;
      max-width: 1500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column; /* ìˆ˜ì§ ë°©í–¥ */
      align-items: center; /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
      gap: 5px;
    }

    h2 {
      text-align: center;
    }

    .charts-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr); /* 3ê°œì˜ ì—´ë¡œ ì„¤ì • */
      grid-template-rows: auto auto;
      justify-items: center;
      width: 100%;
      
    }

    .news-section {
      grid-column: 1 / span 2;
      grid-row: 2;
      width: 930px;
    }

    .new-grid-box {
    grid-column: 3; /* ì„¸ ë²ˆì§¸ ì—´ì— ë°°ì¹˜ */
    grid-row: 2; /* ë‘ ë²ˆì§¸ í–‰ì— ë°°ì¹˜ */
    background-color: #fff;
    background-color: #fff;
    border-radius: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    width: 417px;
    height: 284px;
    padding: 23px;
  }

    .chart-box {
      flex: 1;
      min-width: 430px;
      padding: 10px;
      text-align: center;
      background-color: white;
      border-radius: 30px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* ê° ê·¸ë˜í”„ ë°•ìŠ¤ì— ê·¸ë¦¼ì */
      margin-bottom: 30px;

    }

    canvas {
      width: 100%;
      height: auto;
    }

    #crime-graph{
      width: 100%;
    }

  #mainRegionSelect, #subRegionSelect{
    border-radius: 5px;
    height: 24px;
  }

  .table-container {
    margin-left: 159px;
    margin-bottom: 20px;
}
.news-section table {
    text-align: center;
}

.news-section th, .news-section td {
    text-align: center !important;
}
table td, table th {
    padding-left: 15px; /* ì™¼ìª½ ì—¬ë°± */
    padding-right: 15px; /* ì˜¤ë¥¸ìª½ ì—¬ë°± */
    padding-top: 5px;
}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
  <header>
    <h1>ì¡°ê±´ë³„ ë²”ì£„ ì˜ˆì¸¡ ëª¨ë‹ˆí„°ë§</h1>
  </header>

  <div class="content">
    
      <div class="charts-container">
    

      <!-- 2. ì‹œê°„ëŒ€ë³„ ë²”ì£„ ë°œìƒë¥  -->
      <div class="chart-box">
        <h3>í˜„ì¬ ì‹œê°„ëŒ€ ì˜ˆìƒ ë²”ì£„</h3>
        <canvas id="crimePieChart"></canvas>
      </div>


      <!-- 3. ìš”ì¼ë³„ ë²”ì£„ ë°œìƒë¥  -->
      <div class="chart-box">
        <h3 id="currentDay">ì—¬ê¸°</h3>
        <canvas id="dayOfWeekCrimeChart"></canvas>
      </div>


      <!-- 4. ì§€ì—­ë³„ ë²”ì£„ ë°œìƒë¥  ë¹„êµ -->
      <div class="chart-box">
        <h3>2023 ì§€ì—­ë³„ ë²”ì£„ TOP 5 ì¡°íšŒ</h3>
        <div class="content">
          <label for="mainRegionSelect">ì§€ì—­
            <select id="mainRegionSelect">
              {% for region in regions %}
                <option value="{{ region }}">{{ region }}</option>
              {% endfor %}
            </select>
            <select id="subRegionSelect">
              <option value="">ì„¸ë¶€ ì§€ì—­ì„ ì„ íƒí•˜ì„¸ìš”</option>
            </select>
          </label>
          <div id="graph-container">
            <canvas id="crimeChart" width="400" height="400"></canvas>
          </div>
        </div>

         <script src="../static/graphes.js"></script>
        
      </div>
      
      <div class = "chart-box news-section">
          <h3>ğŸ“¢ ë²”ì£„ ë³´ë„ ë‰´ìŠ¤ ğŸ“¢</h3>
          <input type="date" id="datePicker" class="form-control w-25 mb-3" style="border-radius: 5px; height: 24px;" value="{{ default_date }}">
          <br><br>
          <div class = "news-section">
          <div id = "table-container" class="table-container">
            {{html_table | safe}}
          </div>
        </div>
      </div>

      <div class="new-grid-box">
        <h3>ìƒˆë¡œìš´ í•­ëª©</h3>
        <p>ì—¬ê¸°ì„œ ìƒˆë¡œìš´ ë‚´ìš©ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>
      </div>
    </div>
    <script>
      var initialArticles = {{initial_articles|tojson | safe }}; 
    </script>

 
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <!--git config --global core.autocrlf true-->
</body>
</html>
